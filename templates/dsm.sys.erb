**********************************************************
* Tivoli Storage Manager Client Configuration for        *
* Portal Partnership Ltd.                                *
**********************************************************
* Puppet Managed Configuration File                      *
* Do not edit this file manually as changes will be      *
* overwritten by the puppetmaster                        *
**********************************************************
* Purpose: Main TSM Client Configuration (dsm.sys)       *
**********************************************************

Servername        <%= servername %>
COMMMethod        TCPip
TCPPort           <%= scope['tsmclient::serverport'] %>
TCPServeraddress  <%= scope['tsmclient::serveraddress'] %>
TCPClientport     <%= scope['tsmclient::clientport'] %>
nodename          <%= scope['tsmclient::nodename'] %>
managedservices   schedule
passwordaccess    generate

*  Log file settings
errorlogname /var/log/tsm/dsmerror.log
errorlogretention 14 D

schedlogname /var/log/tsm/dsmsched.log
schedlogretention 14 D

* Excludes
<% scope['tsmclient::excludes'].fs.each do |fs| %>
exclude.fs "<%= fs %>"
<% end %>

<% scope['tsmclient::excludes'].dir.each do |dir| %>
exclude.dir "<%= dir %>"
<% end %>

<% scope['tsmclient::excludes'].list.each do |item| %>
exclude "<%= item %>"
<% end %>

<% scope['tsmclient::includes'].list.each do |item| %>
include "<%= item %>"
<% end %>
